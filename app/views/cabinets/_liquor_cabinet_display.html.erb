<%# liquor cabinet display %>
<% cabinet = current_user.default_cab %>


<div class='row'>
  <%# cabinet header %>
  <h5 class='current-cabinet text-center'><%= cabinet.name %></h5>
  <div class='row border-bottom m-0'>
    <div class='text-center'>
      <a class='change-cabinet' href='#' data-action='click->cabinets#toggleCabinetSelect'>Change</a>
    </div>
  </div>

  <%# cabinet-select pop-up %>
  <div class='row d-none cabinet-select-wrapper'>
    <%= collection_select :cabinet,
                          :name,
                          current_user.cabinets,
                          :id,
                          :name,
                          { include_blank: '-- Please Select --' },
                          { data: { url: cabinet_path(cabinet) },
                            class: 'cabinet-select'}
                        %>
  </div>
    
</div>

<% ['Spirit', 'Modifier', 'Sugar', 'Garnish'].each do |ingredient_type| %>
  <div class='row'>
    <div class='mx-4'>
      <div>
        <h6 class='fw-bold'><%= ingredient_type.pluralize %></h6>
      </div>

      <% if !current_user.cabinets.empty? %>
        <div>
          <%= collection_select :ingredient, 
                                :display_name, 
                                cabinet.ingredients.where(:type => ingredient_type), 
                                :id, 
                                :display_name, 
                                {}, 
                                html_options = { size: 5, multiple: true } %>
        </div>
      <% end %>
    </div>
  </div>
<% end %>
